<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make the Next Hundred - Interactive Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #667eea;
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .strategy-box {
            background: linear-gradient(135deg, #FFE082 0%, #FFD54F 100%);
            border: 4px solid #F57F17;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .strategy-box h3 {
            color: #E65100;
            margin-bottom: 10px;
            font-size: 1.5em;
        }
        .strategy-box p {
            color: #5D4037;
            font-size: 1.2em;
            line-height: 1.6;
        }
        .score-board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .score-item {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        .score-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        .score-value {
            font-size: 2em;
            font-weight: bold;
            margin-top: 5px;
        }
        .problem-display {
            background: linear-gradient(135deg, #E8EAF6 0%, #C5CAE9 100%);
            border: 4px solid #5E35B1;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            text-align: center;
        }
        .problem-equation {
            font-size: 4em;
            font-weight: bold;
            color: #5E35B1;
            margin: 20px 0;
        }
        .problem-parts {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .number-part {
            font-size: 3.5em;
            font-weight: bold;
            padding: 15px 25px;
            border-radius: 15px;
        }
        .first-number {
            background-color: #FFCDD2;
            color: #C62828;
        }
        .plus-sign {
            color: #5E35B1;
        }
        .second-number {
            background-color: #C8E6C9;
            color: #2E7D32;
        }
        .equals-sign {
            color: #5E35B1;
        }
        .question-mark {
            background-color: #FFE082;
            color: #F57F17;
        }
        .hint-button {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            font-size: 1.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #FFD54F 0%, #FFB300 100%);
            color: #5D4037;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .hint-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        .hint-button.used {
            background: linear-gradient(135deg, #C5CAE9 0%, #9FA8DA 100%);
            cursor: default;
        }
        .visual-helper {
            background: #FFF9C4;
            border: 4px solid #F57F17;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            display: none;
        }
        .visual-helper.show {
            display: block;
        }
        .visual-helper h3 {
            color: #E65100;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .strategy-steps {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin: 15px 0;
        }
        .step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }
        .step-text {
            font-size: 1.3em;
            color: #333;
            line-height: 1.6;
        }
        .step-equation {
            font-weight: bold;
            color: #5E35B1;
            margin-top: 5px;
            font-size: 1.4em;
        }
        .number-line-container {
            background: white;
            padding: 40px 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 3px solid #667eea;
        }
        .number-line {
            position: relative;
            height: 100px;
            margin: 40px 20px;
        }
        .line {
            position: absolute;
            top: 50%;
            left: 5%;
            right: 5%;
            height: 8px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
        }
        .tick {
            position: absolute;
            width: 4px;
            height: 50px;
            background-color: #333;
            top: 25px;
        }
        .tick.major {
            height: 60px;
            width: 6px;
            top: 20px;
        }
        .tick-label {
            position: absolute;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }
        .current-marker {
            position: absolute;
            width: 35px;
            height: 35px;
            background-color: #f5576c;
            border: 4px solid white;
            border-radius: 50%;
            top: 32px;
            transform: translateX(-50%);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 10;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
        }
        .target-marker {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: #4CAF50;
            border: 4px solid white;
            border-radius: 50%;
            top: 30px;
            transform: translateX(-50%);
            box-shadow: 0 0 20px #4CAF50;
            z-index: 10;
        }
        .jump-arc {
            position: absolute;
            height: 50px;
            border: 4px dashed #FF9800;
            border-bottom: none;
            border-radius: 100px 100px 0 0;
            top: 5px;
        }
        .jump-label {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #FF9800;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 1.2em;
            white-space: nowrap;
        }
        .answer-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        .answer-btn {
            padding: 20px;
            font-size: 2em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .answer-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        .answer-btn.correct {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            animation: correctPulse 0.5s;
        }
        .answer-btn.wrong {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            animation: wrongShake 0.5s;
        }
        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        .feedback {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
            display: none;
        }
        .feedback.show {
            display: block;
        }
        .feedback.correct {
            background-color: #C8E6C9;
            color: #2E7D32;
        }
        .feedback.wrong {
            background-color: #FFCDD2;
            color: #C62828;
        }
        .next-btn {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            font-size: 1.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .next-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        .hidden {
            display: none;
        }
        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5em;
            opacity: 0;
            pointer-events: none;
            z-index: 1000;
        }
        .celebration.show {
            animation: celebrate 1s;
        }
        @keyframes celebrate {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.5); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üéØ Make the Next Hundred! üéØ</h1>
            <p style="font-size: 1.3em; color: #666;">Master the strategy for adding across hundreds!</p>
        </div>

        <div class="strategy-box">
            <h3>üìö The Strategy</h3>
            <p>
                <strong>Step 1:</strong> Find how many more to make the next hundred<br>
                <strong>Step 2:</strong> Add that amount first<br>
                <strong>Step 3:</strong> Add the rest!
            </p>
        </div>

        <div class="score-board">
            <div class="score-item">
                <div class="score-label">Correct</div>
                <div class="score-value" id="score">0</div>
            </div>
            <div class="score-item">
                <div class="score-label">Question</div>
                <div class="score-value"><span id="current">1</span>/<span id="total">10</span></div>
            </div>
            <div class="score-item">
                <div class="score-label">Streak üî•</div>
                <div class="score-value" id="streak">0</div>
            </div>
            <div class="score-item">
                <div class="score-label">Hints Used</div>
                <div class="score-value" id="hints">0</div>
            </div>
        </div>

        <div class="problem-display">
            <div class="problem-parts">
                <div class="number-part first-number" id="first-num">297</div>
                <div class="number-part plus-sign">+</div>
                <div class="number-part second-number" id="second-num">56</div>
                <div class="number-part equals-sign">=</div>
                <div class="number-part question-mark">?</div>
            </div>
        </div>

        <button class="hint-button" id="hint-btn" onclick="showHint()">
            üí° Show Me the Strategy!
        </button>

        <div class="visual-helper" id="visual-helper">
            <h3>üéì Step-by-Step Strategy</h3>
            <div class="strategy-steps" id="strategy-steps">
                <!-- Generated dynamically -->
            </div>
            <div class="number-line-container">
                <h4 style="text-align: center; color: #667eea; margin-bottom: 10px;">Number Line</h4>
                <div class="number-line" id="number-line">
                    <!-- Generated dynamically -->
                </div>
            </div>
        </div>

        <div class="answer-buttons" id="answers">
            <!-- Generated dynamically -->
        </div>

        <div class="feedback" id="feedback"></div>

        <button class="next-btn hidden" id="next-btn" onclick="nextQuestion()">
            Next Question ‚Üí
        </button>
    </div>

    <div class="celebration" id="celebration">üéâ</div>

    <script>
        // Game state
        let game = {
            currentQuestion: 1,
            totalQuestions: 10,
            score: 0,
            streak: 0,
            hintsUsed: 0,
            hintShown: false,
            answered: false,
            firstNumber: 0,
            secondNumber: 0,
            correctAnswer: 0,
            nextHundred: 0,
            amountToHundred: 0
        };

        // Problem sets - numbers close to hundreds
        const problemSets = [
            // Easy - close to hundred (need 1-5)
            {first: 196, second: 27}, {first: 197, second: 34}, {first: 198, second: 45},
            {first: 199, second: 23}, {first: 296, second: 38}, {first: 297, second: 56},
            {first: 298, second: 44}, {first: 299, second: 67}, {first: 396, second: 29},
            {first: 397, second: 48}, {first: 398, second: 35}, {first: 399, second: 52},
            
            // Medium - need 5-10
            {first: 192, second: 34}, {first: 193, second: 48}, {first: 194, second: 39},
            {first: 195, second: 38}, {first: 292, second: 45}, {first: 293, second: 56},
            {first: 294, second: 67}, {first: 295, second: 43}, {first: 392, second: 54},
            {first: 393, second: 48}, {first: 394, second: 39}, {first: 395, second: 67},
            
            // Harder - need 10-15
            {first: 187, second: 45}, {first: 188, second: 56}, {first: 189, second: 34},
            {first: 287, second: 48}, {first: 288, second: 67}, {first: 289, second: 55},
            {first: 387, second: 46}, {first: 388, second: 38}, {first: 389, second: 57}
        ];

        function initGame() {
            generateQuestion();
        }

        function generateQuestion() {
            game.answered = false;
            game.hintShown = false;
            
            // Select random problem
            const problem = problemSets[Math.floor(Math.random() * problemSets.length)];
            game.firstNumber = problem.first;
            game.secondNumber = problem.second;
            game.correctAnswer = game.firstNumber + game.secondNumber;
            game.nextHundred = Math.ceil(game.firstNumber / 100) * 100;
            game.amountToHundred = game.nextHundred - game.firstNumber;
            
            // Update display
            document.getElementById('first-num').textContent = game.firstNumber;
            document.getElementById('second-num').textContent = game.secondNumber;
            document.getElementById('score').textContent = game.score;
            document.getElementById('streak').textContent = game.streak;
            document.getElementById('current').textContent = game.currentQuestion;
            document.getElementById('total').textContent = game.totalQuestions;
            document.getElementById('hints').textContent = game.hintsUsed;
            
            // Reset hint button
            document.getElementById('hint-btn').classList.remove('used');
            document.getElementById('hint-btn').textContent = 'üí° Show Me the Strategy!';
            document.getElementById('visual-helper').classList.remove('show');
            
            // Generate answer options
            generateAnswers();
            
            // Hide feedback and next button
            document.getElementById('feedback').classList.remove('show');
            document.getElementById('next-btn').classList.add('hidden');
        }

        function generateAnswers() {
            const container = document.getElementById('answers');
            container.innerHTML = '';
            
            let options = [game.correctAnswer];
            let used = [game.correctAnswer];
            
            // Generate wrong answers
            while (options.length < 4) {
                let offset = Math.floor(Math.random() * 20) - 10;
                if (offset === 0) offset = 5;
                let wrongAnswer = game.correctAnswer + offset;
                if (!used.includes(wrongAnswer) && wrongAnswer > 0) {
                    options.push(wrongAnswer);
                    used.push(wrongAnswer);
                }
            }
            
            // Shuffle
            options.sort(() => Math.random() - 0.5);
            
            // Create buttons
            options.forEach(option => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = option;
                btn.onclick = () => checkAnswer(option, btn);
                container.appendChild(btn);
            });
        }

        function showHint() {
            if (!game.hintShown && !game.answered) {
                game.hintShown = true;
                game.hintsUsed++;
                
                document.getElementById('hint-btn').classList.add('used');
                document.getElementById('hint-btn').textContent = '‚úì Strategy Shown Below!';
                document.getElementById('hints').textContent = game.hintsUsed;
                
                // Show visual helper
                document.getElementById('visual-helper').classList.add('show');
                
                // Generate strategy steps
                generateStrategySteps();
                
                // Draw number line
                drawNumberLine();
            }
        }

        function generateStrategySteps() {
            const container = document.getElementById('strategy-steps');
            const remaining = game.secondNumber - game.amountToHundred;
            
            container.innerHTML = `
                <div class="step">
                    <div class="step-number">1</div>
                    <div>
                        <div class="step-text">Find the next hundred after ${game.firstNumber}</div>
                        <div class="step-equation">Next hundred = ${game.nextHundred}</div>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">2</div>
                    <div>
                        <div class="step-text">How many more to get to ${game.nextHundred}?</div>
                        <div class="step-equation">${game.firstNumber} + ${game.amountToHundred} = ${game.nextHundred}</div>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">3</div>
                    <div>
                        <div class="step-text">Break apart ${game.secondNumber} into ${game.amountToHundred} and ${remaining}</div>
                        <div class="step-equation">${game.secondNumber} = ${game.amountToHundred} + ${remaining}</div>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">4</div>
                    <div>
                        <div class="step-text">First add ${game.amountToHundred} to make ${game.nextHundred}</div>
                        <div class="step-equation">${game.firstNumber} + ${game.amountToHundred} = ${game.nextHundred}</div>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">5</div>
                    <div>
                        <div class="step-text">Then add the remaining ${remaining}</div>
                        <div class="step-equation">${game.nextHundred} + ${remaining} = ${game.correctAnswer}</div>
                    </div>
                </div>
            `;
        }

        function drawNumberLine() {
            const container = document.getElementById('number-line');
            container.innerHTML = '';
            
            const prevHundred = game.nextHundred - 100;
            const start = prevHundred;
            const end = game.nextHundred + 50;
            
            // Draw line
            const line = document.createElement('div');
            line.className = 'line';
            container.appendChild(line);
            
            // Draw ticks for hundreds
            [prevHundred, game.nextHundred].forEach(num => {
                const tick = document.createElement('div');
                tick.className = 'tick major';
                const pos = 5 + ((num - start) / (end - start)) * 90;
                tick.style.left = pos + '%';
                
                const label = document.createElement('div');
                label.className = 'tick-label';
                label.textContent = num;
                tick.appendChild(label);
                
                container.appendChild(tick);
            });
            
            // Current number marker
            const current = document.createElement('div');
            current.className = 'current-marker';
            const currentPos = 5 + ((game.firstNumber - start) / (end - start)) * 90;
            current.style.left = currentPos + '%';
            container.appendChild(current);
            
            // Target marker
            const target = document.createElement('div');
            target.className = 'target-marker';
            const targetPos = 5 + ((game.nextHundred - start) / (end - start)) * 90;
            target.style.left = targetPos + '%';
            container.appendChild(target);
            
            // Jump arc to hundred
            const arc1 = document.createElement('div');
            arc1.className = 'jump-arc';
            arc1.style.left = currentPos + '%';
            arc1.style.width = (targetPos - currentPos) + '%';
            
            const label1 = document.createElement('div');
            label1.className = 'jump-label';
            label1.textContent = `+${game.amountToHundred}`;
            arc1.appendChild(label1);
            container.appendChild(arc1);
            
            // Final answer marker
            const finalPos = 5 + ((game.correctAnswer - start) / (end - start)) * 90;
            if (finalPos < 95) {
                const final = document.createElement('div');
                final.className = 'target-marker';
                final.style.left = finalPos + '%';
                final.style.backgroundColor = '#FF9800';
                final.style.boxShadow = '0 0 20px #FF9800';
                container.appendChild(final);
                
                // Jump arc from hundred to answer
                const remaining = game.secondNumber - game.amountToHundred;
                const arc2 = document.createElement('div');
                arc2.className = 'jump-arc';
                arc2.style.left = targetPos + '%';
                arc2.style.width = (finalPos - targetPos) + '%';
                
                const label2 = document.createElement('div');
                label2.className = 'jump-label';
                label2.textContent = `+${remaining}`;
                arc2.appendChild(label2);
                container.appendChild(arc2);
            }
        }

        function checkAnswer(answer, button) {
            if (game.answered) return;
            
            game.answered = true;
            const isCorrect = answer === game.correctAnswer;
            
            if (isCorrect) {
                button.classList.add('correct');
                game.score++;
                game.streak++;
                showFeedback(true);
                showCelebration();
            } else {
                button.classList.add('wrong');
                game.streak = 0;
                showFeedback(false);
                
                // Highlight correct answer
                setTimeout(() => {
                    document.querySelectorAll('.answer-btn').forEach(btn => {
                        if (parseInt(btn.textContent) === game.correctAnswer) {
                            btn.classList.add('correct');
                        }
                    });
                }, 500);
            }
            
            // Update display
            document.getElementById('score').textContent = game.score;
            document.getElementById('streak').textContent = game.streak;
            
            // Show next button
            setTimeout(() => {
                document.getElementById('next-btn').classList.remove('hidden');
            }, 1500);
        }

        function showFeedback(isCorrect) {
            const feedback = document.getElementById('feedback');
            feedback.className = 'feedback show ' + (isCorrect ? 'correct' : 'wrong');
            
            if (isCorrect) {
                const messages = [
                    'üéâ Perfect! You made the hundred!',
                    '‚≠ê Excellent strategy!',
                    'üåü You\'re a hundred-maker!',
                    'üíØ Amazing work!',
                    'üéØ You nailed it!'
                ];
                feedback.textContent = messages[Math.floor(Math.random() * messages.length)];
            } else {
                feedback.textContent = `‚ùå Not quite! The answer is ${game.correctAnswer}. Click the hint button to see the strategy!`;
            }
        }

        function showCelebration() {
            const celebration = document.getElementById('celebration');
            const emojis = ['üéâ', '‚≠ê', 'üåü', 'üí´', '‚ú®', 'üéä', 'üíØ'];
            celebration.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            celebration.classList.add('show');
            setTimeout(() => {
                celebration.classList.remove('show');
            }, 1000);
        }

        function nextQuestion() {
            game.currentQuestion++;
            
            if (game.currentQuestion > game.totalQuestions) {
                showResults();
            } else {
                generateQuestion();
            }
        }

        function showResults() {
            const percentage = Math.round((game.score / game.totalQuestions) * 100);
            
            let message, emoji;
            if (percentage === 100) {
                message = 'PERFECT SCORE!';
                emoji = 'üèÜ';
            } else if (percentage >= 80) {
                message = 'Excellent Work!';
                emoji = 'üåü';
            } else if (percentage >= 60) {
                message = 'Good Job!';
                emoji = 'üëç';
            } else {
                message = 'Keep Practicing!';
                emoji = 'üí™';
            }
            
            document.querySelector('.game-container').innerHTML = `
                <div style="text-align: center; padding: 50px;">
                    <div style="font-size: 8em; margin-bottom: 30px;">${emoji}</div>
                    <h1 style="font-size: 3em; color: #667eea; margin-bottom: 30px;">${message}</h1>
                    <div style="font-size: 2.5em; color: #666; margin-bottom: 20px;">
                        <strong style="color: #4CAF50;">${game.score}</strong> / ${game.totalQuestions} Correct
                    </div>
                    <div style="font-size: 2em; color: #666; margin-bottom: 20px;">
                        Score: <strong style="color: #f5576c;">${percentage}%</strong>
                    </div>
                    <div style="font-size: 1.8em; color: #666; margin-bottom: 40px;">
                        üí° Hints Used: <strong style="color: #FFB300;">${game.hintsUsed}</strong> / ${game.totalQuestions}
                    </div>
                    <button class="next-btn" onclick="location.reload()">
                        üîÑ Play Again
                    </button>
                </div>
            `;
        }

        // Initialize game
        window.onload = initGame;
    </script>
</body>
</html>
